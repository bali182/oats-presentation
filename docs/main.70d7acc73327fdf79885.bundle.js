(self.webpackChunkoats_presentation=self.webpackChunkoats_presentation||[]).push([[179],{7879:(t,e,l)=>{"use strict";l.r(e),l.d(e,{slides:()=>i,backgrounds:()=>k,fragmentSteps:()=>o,fusumaProps:()=>s,default:()=>p});var n=l(7401),a=l(9332),u=l(108);l(1042);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n])}return t}).apply(this,arguments)}const i=[t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"Making API contracts useful"),(0,a.kt)("h1",null,"ðŸ¤")),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("p",null,(0,a.kt)("img",{src:l(3791),alt:"balazs"})),(0,a.kt)("h1",null,"BalÃ¡zs Ã‰des"),(0,a.kt)("h2",null,"Budapest")),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"back to API contracts...")),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("p",null,(0,a.kt)("img",{src:l(5103),alt:"bear 1"}))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)(u.n,{id:.22477160553592124},(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hey man, we're done with the backend. Check out: ",(0,a.kt)("inlineCode",{parentName:"li"},"http://bookshelf.com/books")))),(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hmmm... I get no response, any idea why?"))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Do you hit it with the ",(0,a.kt)("inlineCode",{parentName:"li"},"GET")," method"))),(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yes"))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ah, I forgot to tell you we expect a custom header ",(0,a.kt)("inlineCode",{parentName:"li"},"X-Book-Store: ...")))),(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Now I get data back, but I get like a million records, is there a way to paginate this?"))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Of course, use the ",(0,a.kt)("inlineCode",{parentName:"li"},"offset")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"limit")," query params"))),(0,a.kt)("p",null,"..."))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("p",null,(0,a.kt)("img",{src:l(1863),alt:"bear2"}))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"a few weeks later...")),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)(u.n,{id:.13732458233735034},(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hey man, I'm hitting the ",(0,a.kt)("inlineCode",{parentName:"li"},"POST /books")," endpoint, but I get a 500"))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hmmm... can you send me the payload"))),(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sure ",(0,a.kt)("inlineCode",{parentName:"li"},"{ ... }")))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ah yes we added the ",(0,a.kt)("inlineCode",{parentName:"li"},"foo")," field that you have to send."))),(0,a.kt)("div",{className:"blue"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Now I get a response, but the ",(0,a.kt)("inlineCode",{parentName:"li"},"bar")," field is missing."))),(0,a.kt)("div",{className:"red"},(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yes, about that, we removed that, you have to request that separately."))),(0,a.kt)("p",null,"..."))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("p",null,(0,a.kt)("img",{src:l(1863),alt:"bear3"}))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"the problem"),(0,a.kt)("h2",null,"no formal contract")),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"the solution"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"OpenAPI (HTTP)"),(0,a.kt)("li",{parentName:"ul"},"AsyncAPI (2 way communication)"),(0,a.kt)("li",{parentName:"ul"},"GraphQL (Hybrid)"),(0,a.kt)("li",{parentName:"ul"},"..."))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h2",null,"api-definition.json"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "openapi": "3.0.0",\n  "paths": {\n    "/users": {\n      "get": {\n        "responses": {\n          "200": {\n            "content": {\n              "application/json": {\n                "schema": {\n                  "type": "array",\n                  "items": { "type": "string" }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"why are we not using them?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"No incentive to maintain them on their own"),(0,a.kt)("li",{parentName:"ul"},"Low quality code generators"))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"code generator quality"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hard to run"),(0,a.kt)("li",{parentName:"ul"},"Questionable output"),(0,a.kt)("li",{parentName:"ul"},"No or little customization"))),t=>(0,a.kt)(n.Fragment,null,(0,a.kt)("h1",null,"shameless plug"),(0,a.kt)("h2",null,(0,a.kt)("a",{parentName:"h2",href:"https://github.com/bali182/oats"},"https://github.com/bali182/oats")))],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0,[.22477160553592124,.22477160553592124,.22477160553592124,.22477160553592124,.22477160553592124,.22477160553592124,.22477160553592124,.22477160553592124],0,0,[.13732458233735034,.13732458233735034,.13732458233735034,.13732458233735034,.13732458233735034,.13732458233735034,.13732458233735034],0,0,0,0,0,0,0],s=[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],m={};function p({components:t,...e}){return(0,a.kt)("wrapper",r({},m,e,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",null,"Making API contracts useful"),(0,a.kt)("h1",null,"ðŸ¤"),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("img",{src:l(3791),alt:"balazs"})),(0,a.kt)("h1",null,"BalÃ¡zs Ã‰des"),(0,a.kt)("h2",null,"Budapest"),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"back to API contracts..."),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("img",{src:l(5103),alt:"bear 1"})),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hey man, we're done with the backend. Check out: ",(0,a.kt)("inlineCode",{parentName:"li"},"http://bookshelf.com/books"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hmmm... I get no response, any idea why?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Do you hit it with the ",(0,a.kt)("inlineCode",{parentName:"li"},"GET")," method")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yes")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ah, I forgot to tell you we expect a custom header ",(0,a.kt)("inlineCode",{parentName:"li"},"X-Book-Store: ..."))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Now I get data back, but I get like a million records, is there a way to paginate this?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Of course, use the ",(0,a.kt)("inlineCode",{parentName:"li"},"offset")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"limit")," query params")),(0,a.kt)("p",null,"..."),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("img",{src:l(1863),alt:"bear2"})),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"a few weeks later..."),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hey man, I'm hitting the ",(0,a.kt)("inlineCode",{parentName:"li"},"POST /books")," endpoint, but I get a 500")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hmmm... can you send me the payload")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sure ",(0,a.kt)("inlineCode",{parentName:"li"},"{ ... }"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ah yes we added the ",(0,a.kt)("inlineCode",{parentName:"li"},"foo")," field that you have to send.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Now I get a response, but the ",(0,a.kt)("inlineCode",{parentName:"li"},"bar")," field is missing.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Yes, about that, we removed that, you have to request that separately.")),(0,a.kt)("p",null,"..."),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("img",{src:l(1863),alt:"bear3"})),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"the problem"),(0,a.kt)("h2",null,"no formal contract"),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"the solution"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"OpenAPI (HTTP)"),(0,a.kt)("li",{parentName:"ul"},"AsyncAPI (2 way communication)"),(0,a.kt)("li",{parentName:"ul"},"GraphQL (Hybrid)"),(0,a.kt)("li",{parentName:"ul"},"...")),(0,a.kt)("hr",null),(0,a.kt)("h2",null,"api-definition.json"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "openapi": "3.0.0",\n  "paths": {\n    "/users": {\n      "get": {\n        "responses": {\n          "200": {\n            "content": {\n              "application/json": {\n                "schema": {\n                  "type": "array",\n                  "items": { "type": "string" }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"why are we not using them?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"No incentive to maintain them on their own"),(0,a.kt)("li",{parentName:"ul"},"Low quality code generators")),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"code generator quality"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Hard to run"),(0,a.kt)("li",{parentName:"ul"},"Questionable output"),(0,a.kt)("li",{parentName:"ul"},"No or little customization")),(0,a.kt)("hr",null),(0,a.kt)("h1",null,"shameless plug"),(0,a.kt)("h2",null,(0,a.kt)("a",{parentName:"h2",href:"https://github.com/bali182/oats"},"https://github.com/bali182/oats")))}p.isMDXComponent=!0},5516:(t,e,l)=>{"use strict";l.r(e)},3447:(t,e,l)=>{var n={"./0-slide.md":7879};function a(t){var e=u(t);return l(e)}function u(t){if(!l.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=u,t.exports=a,a.id=3447},5103:(t,e,l)=>{"use strict";t.exports=l.p+"b2b3273fef28f8511fcc.webp"},1863:(t,e,l)=>{"use strict";t.exports=l.p+"d232e727e3802be91eb9.webp"},3791:(t,e,l)=>{"use strict";t.exports=l.p+"809b1dc5f0c014646f8f.webp"}},t=>{t.O(0,[179],(()=>{[901,921,626].map(t.E)}),5);var e=e=>t(t.s=e);t.O(0,[736],(()=>(e(7751),e(6905),e(9969))));t.O()}]);